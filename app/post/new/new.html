<ng-include src="'./app/post/menu.html'"></ng-include>
<div class="container">
    <br>
    <br>
    <h1>Formulario del post</h1>
    <br>
    <br>
    <br>
  <form name="userForm" ng-show="!fallo&&!hecho">
    <div class="form-group row">
      <label for="titulo" class="col-sm-2 col-form-label">Titulo:</label>
      <div class="col-sm-10">
        <input type="text" ng-model="titulo" class="form-control"
          ng-class="{ 'is-invalid' : !userForm.titulo.$valid && !userForm.titulo.$pristine}" name="titulo"
          ng-required="true" value="{{post.titulo}}" />
        <div class="invalid-feedback" ng-show="userForm.titulo.$error.required">
          El campo titulo es obligatorio
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="cuerpo" class="col-sm-2 col-form-label">Cuerpo:</label>
      <div class="col-sm-10">
        <div class="form-group">
          <textarea class="form-control rounded-0" id="exampleFormControlTextarea2" rows="3" ng-model="cuerpo"
            class="form-control" ng-class="{ 'is-invalid' : !userForm.cuerpo.$valid && !userForm.cuerpo.$pristine}"
            name="cuerpo" ng-required="true" value="{{post.cuerpo}}"></textarea>
        </div>
        <div class="invalid-feedback" ng-show="userForm.cuerpo.$error.required">
          El campo cuerpo es obligatorio
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="etiquetas" class="col-sm-2 col-form-label">Etiquetas:</label>
      <div class="col-sm-10">
        <input type="text" ng-model="etiquetas" class="form-control"
          ng-class="{ 'is-invalid' : !userForm.etiquetas.$valid && !userForm.etiquetas.$pristine}" name="etiquetas"
          ng-required="true" />
        <div class="invalid-feedback" ng-show="userForm.etiquetas.$error.required">
          El campo etiquetas es obligatorio
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="fecha" class="col-sm-2 col-form-label">Fecha:</label>
      <div class="col-sm-10">

        <md-datepicker ng-model="fecha" md-placeholder="Enter date"
          ng-class="{ 'is-invalid' : !userForm.fecha.$valid && !userForm.fecha.$pristine}" name="fecha" value="{{post.fecha}}"
          ng-required="true"></md-datepicker>

      </div>
    </div>
    <div class="float-right">

      <button type="button" class="btn btn-primary" ng-click="anyadir()"  ng-disabled="userForm.$invalid">Publicar</button>
    </div>
  </form>

  <div ng-show="!fallo&&hecho">
    <div class="alert alert-success text-center" role="alert">
      <h2>Post publicado con Ã©xito</h2>
    </div>
    <button class="btn btn-primary" ng-click="cerrar()">Cerrar</button>
    <button class="btn btn-primary" ng-click="volver()">Volver</button>
  </div>
  <div ng-show="fallo&&hecho">
    <div class="alert alert-danger text-center" role="alert">
      <h2>Ha ocurrido un error al publicar el Post</h2>
    </div>
    <button class="btn btn-primary" ng-click="cerrar()">Cerrar</button>
    <button class="btn btn-primary" ng-click="volver()">Volver</button>
  </div>

</div>
